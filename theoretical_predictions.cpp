
//***************************************************************************
//***************************************************************************

	#include <iostream>
	#include <cmath>
	#include <fstream>

	using namespace std;

//***************************************************************************
//***************************************************************************

int main(){

	float dt1, dt2, dt, dt_prime, T, dg1, dg2, dg;

	float eta_STDP = 0.005;			// iSTDP learning rate.
	float tau_STDP = 20;			// iSTDP decay time constant.
	float alpha_STDP = 0.2;			// iSTDP depression factor.

	ofstream outfile1("outputB.txt");

//***************************************************************************
//***************************************************************************

	for (T = 0; T <= 100.; T = T + 0.25){
		for (dt = 0; dt <= 100; dt = dt + 0.25){
			if (dt > T) dt_prime = dt - (int(dt / T) * T);			
			else dt_prime = dt;

			dt1 = dt_prime;
			dt2 = T - dt1;

        		dg1 = eta_STDP * (exp(- abs(dt1) / tau_STDP) - alpha_STDP);
        		dg2 = eta_STDP * (exp(- abs(dt2) / tau_STDP) - alpha_STDP);

			dg = dg1 + dg2;

			outfile1 << dt << '\t' << T << '\t' << dg << endl;
		}
	}

//***************************************************************************
//***************************************************************************

	outfile1.close();

return 0;
}

//***************************************************************************
//***************************************************************************
